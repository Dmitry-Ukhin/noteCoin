<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116702748-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-116702748-1');
    </script>

    <meta charset="UTF-8">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id"
          content="952926237350-nm6l0h72hi86onaafedh87j8schgdhcs.apps.googleusercontent.com">


    <title>noteCoin</title>
    <!--Import templates-->
    <link id="lastTrans" href="pages/template/tmplLastTrans.html" rel="import">
    <link id="newTran" href="pages/template/tmplNewTran.html" rel="import">
    <link id="showTrans" href="pages/template/tmplShowTrans.html" rel="import">
    <link id="listTrans" href="pages/template/tmplListTrans.html" rel="import">
    <link id="updatesBlock" href="pages/template/tmplUpdates.html" rel="import">
    <!--Import stylesheets-->
    <link href="styles/index.css" rel="stylesheet">
    <link href="styles/newTran.css" rel="stylesheet">
    <link href="styles/lastTrans.css" rel="stylesheet">
    <link href="styles/showTrans.css" rel="stylesheet">
    <link href="styles/listTrans.css" rel="stylesheet">
    <link href="styles/updates.css" rel="stylesheet">
    <!--Import scripts-->
    <script src="scripts/saveTran.js"></script>
    <script src="scripts/lastTrans.js"></script>
    <script src="scripts/authorization.js"></script>

        <!--Google Oauth-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!--Other imports-->
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
</head>
<body>
    <!--Authorization-->
    <div class="authorization" id="div-authorization">
        <div id="headerAuth" class="headerAuth">
            <h4 class="headerAuth-h4">Welcome to the noteCoin</h4>
        </div>
        <div class="g-signin2" data-onsuccess="onSignIn"></div>
        <script>
        <!--COPY-PASTE-->
            function onSignIn(googleUser) {
              var profile = googleUser.getBasicProfile();
              console.log('ID: ' + profile.getId());
              console.log('Name: ' + profile.getName());
              console.log('Image URL: ' + profile.getImageUrl());
              console.log('Email: ' + profile.getEmail());
              console.log('id_token: ' + googleUser.getAuthResponse().id_token);

             //do not post above info to the server because that is not safe.
             //just send the id_token

              var redirectUrl = 'login';
              //using jquery to post data dynamically
              var form = $('<form action="' + redirectUrl + '" method="post">' +
                                  '<input type="text" name="id_token" value="' +
                                   googleUser.getAuthResponse().id_token + '" />' +
                                                                        '</form>');
            $('body').append(form);
            form.submit();
            }

	</script>
    </div>
    <div class="globalShadow" id="globalShadow" onclick="deleteAll()">
        <script type="text/javascript">
            function deleteAll() {
                document.querySelector("#div-authorization").remove();
                document.querySelector("#globalShadow").remove();
            }
        </script>
    </div>
    <!--logo-->
    <div class="logo">
        <img src="resources/logo(noteCoin).png" width="500" , height="125">
    </div>
    <!--blocks-->
    <div class="block">
        <div class="column-left" id="column-left">
            <div style="width: 0; height: 370px;"></div>
            <script type="text/javascript">
                var link = document.querySelector('#updatesBlock');

                // Clone the <template> in the import.
                var template = link.import.querySelector('#tmplUpdates');
                var clone = document.importNode(template.content, true);

                document.querySelector('#column-left').appendChild(clone);
            </script>
            <div style="width: 0; height: 700px;"></div>
        </div>
    </div>
    <div class="block">
        <div class="column-middle" id="column-middle">
            <div style="width: 0; height: 370px;"></div>
            <script type="text/javascript">
                var link = document.querySelector('#lastTrans');
                
                // Clone the <template> in the import.
                var template = link.import.querySelector('#tmplLastTran');
                var clone = document.importNode(template.content, true);

                document.querySelector('#column-middle').appendChild(clone);
            </script>
            <div style="width: 0; height: 700px;"></div>
        </div>
    </div>
    <div class="block">
        <div class="column-right" id="column-right">
            <div style="width: 0; height: 370px;"></div>
            <script type="text/javascript">
                var link = document.querySelector('#newTran');

                // Clone the <template> in the import.
                var template = link.import.querySelector('#tmplNewTran');
                var clone = document.importNode(template.content, true);

                document.querySelector('#column-right').appendChild(clone);
            </script>
            <script type="text/javascript">
                var link = document.querySelector('#showTrans');

                // Clone the <template> in the import.
                var template = link.import.querySelector('#tmplShowTrans');
                var clone = document.importNode(template.content, true);

                document.querySelector('#column-right').appendChild(clone);
            </script>
            <div style="width: 0; height: 700px;"></div>
        </div>
    </div>
</body>
</html>